REPORT-1: PATIENT WISE TEST REPORT
================================
GROUP: TRANSDT
SELECT HMS_OPDMST.TRANSDT, HMS_OPDMST.PATIENTID, PATIENTNM, GENDER, AGE, TESTID, AMOUNT FROM HMS_OPDMST 
INNER JOIN HMS_OPD ON HMS_OPDMST.COMPID = HMS_OPD.COMPID AND HMS_OPDMST.PATIENTID = HMS_OPD.PATIENTID
WHERE HMS_OPDMST.COMPID = '101' AND HMS_OPDMST.TRANSDT BETWEEN '2015-09-01' AND '2015-09-10'
ORDER BY HMS_OPDMST.TRANSDT, HMS_OPDMST.PATIENTID, TESTID


REPORT-2: USER WISE COLLECTION - DETAILS
======================================
GROUP-1: TRANSDT
GROUP-2: USERNM (USER WISE TOTAL, DATE TOTAL, GRAND TOTAL)
SELECT TRANSDT, USERNM, PATIENTID, SUM(RCVAMTB) RCVAMTB, SUM(RCVAMTD) RCVAMTD, (SUM(RCVAMTB)+SUM(RCVAMTD)) RCVAMTT
FROM(
SELECT TRANSDT, USERNM, PATIENTID, RCVAMT RCVAMTB, 0 RCVAMTD
FROM HMS_OPDMST INNER JOIN ASL_USER ON HMS_OPDMST.COMPID = ASL_USER.COMPID AND HMS_OPDMST.INSUSERID = ASL_USER.USERID
WHERE HMS_OPDMST.COMPID = '101' AND TRANSDT BETWEEN '2015-09-01' AND '2015-09-10'
UNION 
SELECT TRANSDT, USERNM, PATIENTID, 0 RCVAMTB, RCVAMT RCVAMTD
FROM HMS_OPDRCV INNER JOIN ASL_USER ON HMS_OPDRCV.COMPID = ASL_USER.COMPID AND HMS_OPDRCV.INSUSERID = ASL_USER.USERID
WHERE HMS_OPDRCV.COMPID = '101' AND TRANSDT BETWEEN '2015-09-01' AND '2015-09-10'
) A GROUP BY TRANSDT, USERNM, PATIENTID

REPORT-3: USER WISE COLLECTION - SUMMARY
======================================
GROUP: TRANSDT (DATE TOTAL, GRAND TOTAL)
SELECT TRANSDT, USERNM, SUM(ISNULL(RCVAMTB,0)) RCVAMTB, SUM(ISNULL(RCVAMTD,0)) RCVAMTD, (SUM(ISNULL(RCVAMTB,0))+SUM(ISNULL(RCVAMTD,0))) RCVAMTT
FROM(
SELECT TRANSDT, USERNM, SUM(ISNULL(RCVAMT,0)) RCVAMTB, 0 RCVAMTD
FROM HMS_OPDMST INNER JOIN ASLUSERCOES ON HMS_OPDMST.COMPID = ASLUSERCOES.COMPID AND HMS_OPDMST.INSUSERID = ASLUSERCOES.USERID
WHERE HMS_OPDMST.COMPID = '101' AND TRANSDT BETWEEN '2015-09-01' AND '2015-10-10'
GROUP BY TRANSDT, USERNM 
UNION 
SELECT TRANSDT, USERNM, 0 RCVAMTB, SUM(ISNULL(RCVAMT,0)) RCVAMTD
FROM HMS_OPDRCV INNER JOIN ASLUSERCOES ON HMS_OPDRCV.COMPID = ASLUSERCOES.COMPID AND HMS_OPDRCV.INSUSERID = ASLUSERCOES.USERID
WHERE HMS_OPDRCV.COMPID = '101' AND TRANSDT BETWEEN '2015-09-01' AND '2015-10-10'
GROUP BY TRANSDT, USERNM 
) A GROUP BY TRANSDT, USERNM

REPORT-4: DAILY OUTDOOR STATEMENT
======================================
PART-1
GROUP: PATIENTID, PATIENTNM, REFERNM, TOTAMT, DISCREF, DISCHOS, DISCNET, NETAMT, RCVAMT, DUEAMT
SELECT HMS_OPDMST.PATIENTID, PATIENTNM, REFERNM, TOTAMT, DISCREF, DISCHOS, DISCNET, NETAMT, RCVAMT, DUEAMT, TESTID, AMOUNT FROM HMS_OPDMST 
INNER JOIN HMS_OPD ON HMS_OPDMST.COMPID = HMS_OPD.COMPID AND HMS_OPDMST.TRANSDT = HMS_OPD.TRANSDT AND HMS_OPDMST.PATIENTID = HMS_OPD.PATIENTID
LEFT OUTER JOIN HMS_REFER ON HMS_OPDMST.COMPID = HMS_REFER.COMPID AND HMS_OPDMST.REFERID = HMS_REFER.REFERID
WHERE HMS_OPDMST.COMPID = '101' AND HMS_OPDMST.TRANSDT = '2015-09-02'

PART-2 (DUE COLLECTION - TODAY)
SELECT HMS_OPDMST.PATIENTID, PATIENTNM, TRANSNO, DUEAMTP, HMS_OPDRCV.DISCHOS, HMS_OPDRCV.NETAMT, HMS_OPDRCV.RCVAMT, HMS_OPDRCV.DUEAMT
FROM HMS_OPDMST INNER JOIN HMS_OPDRCV ON HMS_OPDMST.COMPID = HMS_OPDRCV.COMPID AND HMS_OPDMST.TRANSDT = HMS_OPDRCV.TRANSDT AND HMS_OPDMST.PATIENTID = HMS_OPDRCV.PATIENTID
WHERE HMS_OPDMST.COMPID = '101' AND HMS_OPDMST.TRANSDT = '2015-08-31'

PART-3 (DUE COLLECTION - PREVIOUS DAYS)
SELECT HMS_OPDMST.PATIENTID, PATIENTNM, TRANSNO, DUEAMTP, HMS_OPDRCV.DISCHOS, HMS_OPDRCV.NETAMT, HMS_OPDRCV.RCVAMT, HMS_OPDRCV.DUEAMT
FROM HMS_OPDMST INNER JOIN HMS_OPDRCV ON HMS_OPDMST.COMPID = HMS_OPDRCV.COMPID AND HMS_OPDMST.TRANSDT <> HMS_OPDRCV.TRANSDT AND HMS_OPDMST.PATIENTID = HMS_OPDRCV.PATIENTID
WHERE HMS_OPDRCV.COMPID = '101' AND HMS_OPDRCV.TRANSDT = '2015-08-31'

