DROP   TABLE HMS_OPDMST CASCADE CONSTRAINTS;
CREATE TABLE HMS_OPDMST
(
 COMPID             NUMBER(3),
 TRANSDT            DATE,
 PATIENTID          VARCHAR2(10),
 PATIENTNM          VARCHAR2(100), 
 GENDER             VARCHAR2(6), 
 AGE                VARCHAR2(30),
 MOBNO              VARCHAR2(11), 
 ADDRESS            VARCHAR2(100), 
 DOCTORID           NUMBER(10), 
 REFERID            NUMBER(10), 
 RFPCNT             NUMBER(15,2) DEFAULT 0,

 DVDT               DATE,
 DVTM               VARCHAR2(8),
 TOTAMT             NUMBER(15,2) DEFAULT 0,
 DISCREF            NUMBER(15,2) DEFAULT 0,
 DISCHOS            NUMBER(15,2) DEFAULT 0,
 DISCNET            NUMBER(15,2) DEFAULT 0,
 NETAMT             NUMBER(15,2) DEFAULT 0,
 RCVAMT             NUMBER(15,2) DEFAULT 0,
 DUEAMT             NUMBER(15,2) DEFAULT 0, 
 ..
 PRIMARY KEY (COMPID, TRANSDT, PATIENTID)
)
/

DROP   TABLE HMS_OPD CASCADE CONSTRAINTS;
CREATE TABLE HMS_OPD
(
 COMPID             NUMBER(3),
 TRANSDT            DATE,
 PATIENTID          VARCHAR2(10),
 REFERID            NUMBER(10), 
 TESTSL             NUMBER(4),
 TCATID             NUMBER(5),
 TESTID             NUMBER(8),
 AMOUNT             NUMBER(15,2) DEFAULT 0,
 PCNTR              NUMBER(15,2) DEFAULT 0,
 PCNTD              NUMBER(15,2) DEFAULT 0,
 DISCR              NUMBER(15,2) DEFAULT 0,
 REMARKS            VARCHAR2(100), 
 ..
 PRIMARY KEY (COMPID, TRANSDT, PATIENTID, TESTSL)
 FOREIGN KEY (COMPID, TRANSDT, PATIENTID)
)
/

-------------------------------------------------------
DROP   TABLE HMS_DEPT CASCADE CONSTRAINTS;	
CREATE TABLE HMS_DEPT
(
 COMPID      NUMBER(3),
 DEPTID      NUMBER(5),   
 DEPTNM      VARCHAR2(100),
 REMARKS     VARCHAR2(100),
 ..
 PRIMARY KEY = COMPID, DEPTID
)
/

DROP   TABLE HMS_TESTMST CASCADE CONSTRAINTS;
CREATE TABLE HMS_TESTMST
(
 COMPID      NUMBER(3),
 TCATID      NUMBER(5),		--10101 = INSTRUMENT
 TCATNM      VARCHAR2(100),
 DEPTID      NUMBER(5),   
 ..
 PRIMARY KEY = COMPID, TCATID
)
/

DROP   TABLE HMS_TEST CASCADE CONSTRAINTS;
CREATE TABLE HMS_TEST
(
 COMPID      NUMBER(3),
 TCATID      NUMBER(5),
 DEPTID      NUMBER(5),   
 TESTID      NUMBER(8),
 TESTNM      VARCHAR2(100), 
 RATE        NUMBER(15,2) DEFAULT 0,
 PCNTD       NUMBER(15,2) DEFAULT 0, 
 ..
 PRIMARY KEY = COMPID, TCATID, TESTID
)
/

DROP   TABLE HMS_TESTV CASCADE CONSTRAINTS;
CREATE TABLE HMS_TESTV
(
 COMPID      NUMBER(3),
 TCATID      NUMBER(5),		
 TESTID      NUMBER(8),
 TVACID      NUMBER(8),		--ONLY SHOW 10101 = INSTRUMENT
 ..
 PRIMARY KEY = COMPID, TCATID, TESTID, TVACID
)
/
 
DROP   TABLE HMS_TESTNV CASCADE CONSTRAINTS;
CREATE TABLE HMS_TESTNV
(
 COMPID      NUMBER(3),
 TESTID      NUMBER(8),
 RESTID      NUMBER(10),  
 RESTNM      VARCHAR2(100), 
 RESTGR      VARCHAR2(100), 	--
 RESTMU      VARCHAR2(10),  	--
 SHOWTP      VARCHAR2(6),   	--STRING/NUMBER
 LENGTH      NUMBER(3),
 DECIML      NUMBER(1),
 NVALUE      VARCHAR2(500), 
 ..
 PRIMARY KEY = COMPID, TESTID, RESTID
)
/
 
DROP   TABLE HMS_REFER CASCADE CONSTRAINTS;
CREATE TABLE HMS_REFER
(
 COMPID      NUMBER(3),
 REFERGID    NUMBER(6),		--LIABILITY HEAD
 REFERID     NUMBER(10),	--INSERT AS ACCOUNT HEAD
 REFERNM     VARCHAR2(100), 
 TITLE       VARCHAR2(100), 
 ADDRESS     VARCHAR2(100), 
 MOBNO1      VARCHAR2(11),     
 MOBNO2      VARCHAR2(11),     
 EMAILID     VARCHAR2(50),  
 ..
 PRIMARY KEY = COMPID, REFERID
)
/

DROP   TABLE HMS_RFPCNT CASCADE CONSTRAINTS;
CREATE TABLE HMS_RFPCNT
(
 COMPID      NUMBER(3),
 REFERID     NUMBER(10),
 TCATID      NUMBER(5),		
 RFPCNT      NUMBER(15,2) DEFAULT 0,
 REMARKS     VARCHAR2(100), 
 ..
 PRIMARY KEY = COMPID, REFERID, TCATID
)
/

DROP   TABLE HMS_MGT CASCADE CONSTRAINTS;
CREATE TABLE HMS_MGT
(
 COMPID      NUMBER(3),
 MGTID       NUMBER(6),
 MGTNM       VARCHAR2(100), 
 DESIG       VARCHAR2(100), 
 ADDRESS     VARCHAR2(100), 
 MOBNO1      VARCHAR2(11),     
 MOBNO2      VARCHAR2(11),     
 EMAILID     VARCHAR2(50),  
 ..
 PRIMARY KEY = COMPID, MGTID
)
/

DROP   TABLE HMS_MGTRF CASCADE CONSTRAINTS;
CREATE TABLE HMS_MGTRF
(
 COMPID      NUMBER(3),
 MGTID       NUMBER(6),
 REFERID     NUMBER(10), 
 RFPCNT      NUMBER(15,2) DEFAULT 0,
 REMARKS     VARCHAR2(100), 
 ..
 PRIMARY KEY = COMPID, MGTID, REFERID
)
/

DROP   TABLE HMS_SIGNBY CASCADE CONSTRAINTS;
CREATE TABLE HMS_SIGNBY
(
 COMPID             NUMBER(3),
 SIGNID             NUMBER(5),
 AUTHNM             VARCHAR2(100), 
 TITLE              VARCHAR2(100),
 DEPTNM             VARCHAR2(100),
 INSTITUTE          VARCHAR2(100),
 ..
 PRIMARY KEY (COMPID, SIGNID)
)
/
  